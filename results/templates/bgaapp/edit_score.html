{% extends 'core/base.html' %}
{% load form_tags %}

{% block content %}

<div class="container mt-4">
  <h2>Edit Score â€” {{ event.course_name }} on {{ event.date }}</h2>

  {% if request.user.is_superuser %}
  <form method="post" class="row g-3">
    {% csrf_token %}
    {{ form.player|add_class:"form-select" }}
    {{ form.teammate|add_class:"form-select" }}
    {{ form.score|add_class:"form-control" }}

    <div class="col-12">
      <button type="submit" class="btn btn-success">Update Score</button>
      <a href="{% url 'leaderboard' event.pk %}" class="btn btn-secondary ms-2">Cancel</a>
    </div>
  </form>

  <form action="{% url 'delete_score' score.pk %}" method="post" class="mt-3">
    {% csrf_token %}
    <button type="submit" class="btn btn-danger">Delete Score</button>
  </form>
  {% else %}
  <p class="text-muted">You do not have permission to edit scores.</p>
  {% endif %}
</div>

{% endblock %}
